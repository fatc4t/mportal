/*! Copyright (C) 2016 tagnoheya.com. All rights reserved. */
(function(){var b="ontouchstart" in document;function a(e,c,d){this.f_=$(e);this.R_=$.extend({od_:250},d||{});this.E_=false;this.Bb_=null;this.Cb_={pageX:0,pageY:0};this.Db_={x:0,y:0};if(b){if(c){this.f_.on("touchstart",c,$.proxy(this.Eb_,this))}else{this.f_.on("touchstart",$.proxy(this.Eb_,this))}}else{if(c){this.f_.on("mousedown",c,$.proxy(this.A_,this))}else{this.f_.on("mousedown",$.proxy(this.A_,this))}}}$.extend(a.prototype,{Eb_:function(c){if(this.E_){return}this.E_=true;this.Fb_=false;this.Gb_=false;this.Hb_=setTimeout($.proxy(this.Ib_,this),this.R_.od_);this.Cb_={pageX:c.originalEvent.touches[0].pageX,pageY:c.originalEvent.touches[0].pageY};this.Db_={x:$(window).scrollLeft(),y:$(window).scrollTop()};this.Nm_=this.Cb_;this.Bb_=$(c.currentTarget);this.Bb_.on("touchmove",$.proxy(this.Jb_,this));this.Bb_.on("touchend",$.proxy(this.Kb_,this));this.Bb_.on("touchcancel",$.proxy(this.Lb_,this));this.Bb_.on("contextmenu",false);$(window).on("scroll",$.proxy(this.Mb_,this));if(this.R_.pd_){this.R_.pd_(c,c.originalEvent.touches[0].pageX,c.originalEvent.touches[0].pageY)}},Jb_:function(f){if(!this.E_){return}var d=f.originalEvent.touches[0].pageX;var c=f.originalEvent.touches[0].pageY;this.Gb_=true;this.Nm_.pageX=d;this.Nm_.pageY=c;if(!this.Fb_){if($(window).scrollTop()!=this.Db_.y||Math.abs(c-this.Cb_.pageY)>=16){this.Mb_();return}if($(window).scrollLeft()!=this.Db_.x||(this.Nb_()&&Math.abs(d-this.Cb_.pageX)>=16)){this.Mb_();return}if(Math.abs(d-this.Cb_.pageX)>=16){this.Ib_()}}if(this.Fb_){if(this.R_.qd_){this.R_.qd_(f,d,c)}f.preventDefault()}},Kb_:function(c){if(!this.E_){return}if(this.Fb_){c.preventDefault()}if(!this.Gb_){if(this.R_.rd_){this.R_.rd_(c,this.Nm_.pageX,this.Nm_.pageY)}}this.M_()},Lb_:function(c){if(!this.E_){return}this.Mb_()},Ib_:function(c){if(this.Hb_){clearTimeout(this.Hb_);this.Hb_=null}this.Fb_=true;if(c){var d=b?c.originalEvent.touches[0]:c;if(this.R_.sd_){this.R_.sd_(c,d.pageX,d.pageY)}}},M_:function(){if(!this.E_){return}if(b){this.Bb_.off("touchmove",$.proxy(this.Jb_,this));this.Bb_.off("touchend",$.proxy(this.Kb_,this));this.Bb_.off("touchcancel",$.proxy(this.Lb_,this));this.Bb_.off("contextmenu",false);$(window).off("scroll",$.proxy(this.Mb_,this))}else{$(document).off("mousemove",$.proxy(this.Ob_,this));$(document).off("mouseup",$.proxy(this.Pb_,this))}if(this.Hb_){clearTimeout(this.Hb_);this.Hb_=null}this.E_=false;this.Bb_=null;if(this.Fb_){this.Fb_=false;if(this.R_.td_){this.R_.td_()}}},Mb_:function(){if(this.E_){this.Fb_=false;if(this.R_.ud_){this.R_.ud_()}this.M_()}},A_:function(c){if(this.E_){return}this.E_=true;this.Cb_={pageX:c.pageX,pageY:c.pageY};this.Db_={x:$(window).scrollLeft(),y:$(window).scrollTop()};this.Bb_=$(c.target);$(document).on("mousemove",$.proxy(this.Ob_,this));$(document).on("mouseup",$.proxy(this.Pb_,this));if(this.R_.pd_){this.R_.pd_(c,c.pageX,c.pageY)}this.Ib_(c);c.preventDefault()},Ob_:function(c){if(!this.E_){return}if(this.R_.qd_){this.R_.qd_(c,c.pageX,c.pageY)}this.Gb_=true;c.preventDefault()},Pb_:function(c){if(!this.E_){return}c.preventDefault();if(!this.Gb_){if(this.R_.rd_){this.R_.rd_(c,c.pageX,c.pageY)}}this.M_()},Nb_:function(){var c=document.documentElement.clientWidth||window.innerWidth;return $(document).width()>c},ub_:function(c,d){this.R_[c]=d}});window.nd_=a})();var a_=(function(){var e=navigator.userAgent.match(/iPhone/);var h=navigator.userAgent.match(/iPad/);var k=navigator.userAgent.match(/iPhone|Android|iPad/);function j(t){var o,v,y,u,A,q,p,z,w;u=(t.h/60)%6;if(u<0){u+=6}A=Math.max(0,Math.min(1,t.s/100));q=Math.max(0,Math.min(1,t.l/100));w=(1-Math.abs((2*q)-1))*A;z=w*(1-Math.abs((u%2)-1));p=q-w/2;if(u<1){o=w;v=z;y=0}else{if(u<2){o=z;v=w;y=0}else{if(u<3){o=0;v=w;y=z}else{if(u<4){o=0;v=z;y=w}else{if(u<5){o=z;v=0;y=w}else{o=w;v=0;y=z}}}}}o=Math.round((o+p)*255);v=Math.round((v+p)*255);y=Math.round((y+p)*255);return{r:o,g:v,b:y}}function l(){this.v_=false}$.extend(l,{Ra_:function(t,s,o,p){var q=new l();q.Sa_(t,s,o);q.a=(p!==void 0)?p:1;return q},Ta_:function(t,r,q,o){var p=new l();p.Ua_(t,r,q);p.a=(o!==void 0)?o:1;return p},Va_:function(q){var o=new l();var p=a(q);o.Sa_(p.r,p.g,p.b);o.a=1;if(!q){o.v_=true}return o}});$.extend(l.prototype,{Xa_:function(){var o=i([this.r,this.g,this.b]);this.h=o[0];this.s=o[1];this.v=o[2];return this},Za_:function(){var o=m([this.h,this.s,this.v]);this.r=o[0];this.g=o[1];this.b=o[2];return this},Sa_:function(q,p,o){this.r=q;this.g=p;this.b=o;this.Xa_();return this},Ua_:function(q,p,o){this.h=q;this.s=p;this.v=o;this.Za_();return this},toString:function(o){if(this.v_){return""}else{if(this.a==1||o){return b(this)}else{return"rgba("+Math.floor(this.r)+","+Math.floor(this.g)+","+Math.floor(this.b)+","+(Math.round(this.a*1000)/1000)+")"}}},cb_:function(o){this.v_=!!o},db_:function(){return this.v_},eb_:function(o){return this.toString()==o.toString()&&this.v_==o.v_},fb_:function(){var o=new l();return $.extend(o,{r:this.r,g:this.g,b:this.b,a:this.a,h:this.h,s:this.s,v:this.v,v_:this.v_})}});function i(t){var w=Math.max(t[0],t[1],t[2]);var o=Math.min(t[0],t[1],t[2]);var p,z,x=w;var r=w-o;if(!r){return[0,0,x]}var y=Math.round(w-t[0]*60/r);var u=Math.round(w-t[1]*60/r);var q=Math.round(w-t[2]*60/r);z=Math.round(r*255/w);if(w==t[0]){p=q-u}else{if(w==t[1]){p=120+y-q}else{p=240+u-y}}if(p<0){p+=360}return[p,z,x]}function m(p){var o=Math.round(p[2]);var t=(p[0]*6)%360;var s=Math.round(o*(255-p[1])/255);var r=Math.round(o*(255-p[1]*t/360)/255);var q=Math.round(o*(255-p[1]*(360-t)/360)/255);switch(Math.floor(p[0]/60)%6){case 0:return[o,q,s];case 1:return[r,o,s];case 2:return[s,o,q];case 3:return[s,r,o];case 4:return[q,s,o];case 5:return[o,s,r];default:return[0,0,0]}}function b(o){return"#"+(16777216|(o.r<<16)|(o.g<<8)|(o.b)).toString(16).substr(1)}function a(o){if(o.match(/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i)){return{r:parseInt(RegExp.$1,16),g:parseInt(RegExp.$2,16),b:parseInt(RegExp.$3,16)}}return{r:0,g:0,b:0}}function d(o){var p=a(o);var q=(p.r/255)*0.299+(p.g/255)*0.587+(p.b/255)*0.114;return q<=0.5}var g=function(q,p,o){this.f_=q;this.w_=p.fb_();this.x_=p.h;this.y_();this.z_=o;this.Jc_=new nd_(this.f_.parent().parent(),null,{sd_:$.proxy(this.Om_,this),qd_:$.proxy(this.Pm_,this),td_:$.proxy(this.Qm_,this),rd_:$.proxy(this.Rm_,this),od_:150})};$.extend(g.prototype,{y_:function(){this.f_.html('<div class="Cmh"></div><div class="Cnh"></div><div class="Coh"></div>');this.B_=this.f_.find(".Cmh");this.C_=this.f_.find(".Cnh");this.D_=this.f_.find(".Coh");this.ib_()},ib_:function(){var q=l.Ta_(this.w_.h,255,255,0);var p=l.Ta_(this.w_.h,255,255,1);this.B_.css("background","-webkit-linear-gradient(left,"+q.toString()+","+p.toString()+")");this.B_.css("background","linear-gradient(to right,"+q.toString()+","+p.toString()+")");if(!this.w_.db_()){var o=this.f_.width()*this.w_.s/255-Math.floor(this.D_.width()/2)-1;var r=this.f_.height()*(1-(this.w_.v/255))-Math.floor(this.D_.height()/2)-1;this.D_.css("left",o).css("top",r).css("display","block");this.D_.css("background",this.w_.toString(true));this.D_.css("border-color",d(this.w_.toString())?"rgba(255,255,255,0.9)":"rgba(0,0,0,0.9)")}else{this.D_.css("display","none")}},jb_:function(){return this.w_},kb_:function(o){this.w_=o.fb_();this.ib_()},Om_:function(q,p,o){this.F_=false;this.G_=this.w_.fb_();this.L_(p,o)},Pm_:function(q,p,o){this.L_(p,o);this.D_.addClass("drag");this.F_=true;q.preventDefault()},Qm_:function(){this.D_.removeClass("drag");if(!this.F_&&this.G_.eb_(this.w_)){this.w_.cb_(true);this.ib_();if(this.z_){this.z_(this.w_)}}},Rm_:function(q,p,o){this.L_(p,o)},L_:function(t,q){var u=this.f_.offset();var o=t-u.left;var w=q-u.top;var r=Math.max(0,Math.min(255,o/this.f_.width()*255));var p=255-Math.max(0,Math.min(255,w/this.f_.height()*255));this.w_.Ua_(this.w_.h,r,p);this.w_.cb_(false);this.ib_();if(this.z_){this.z_(this.w_)}}});var f=function(q,p,o){this.f_=q;this.x_=p||0;this.z_=o;this.y_();this.Jc_=new nd_(this.f_.parent().parent(),null,{sd_:$.proxy(this.Om_,this),qd_:$.proxy(this.Pm_,this),td_:$.proxy(this.Qm_,this),rd_:$.proxy(this.Rm_,this),od_:150})};$.extend(f.prototype,{y_:function(){this.f_.html('<div class="Crh"></div>');this.D_=this.f_.find(".Crh");this.ib_()},ib_:function(){var o=(this.f_.height()-1)*(360-this.x_)/360-Math.floor(this.D_.height()/2);this.D_.css("top",o-5)},mb_:function(o){this.x_=o;this.ib_()},nb_:function(){return this.x_},Om_:function(o){this.L_(o.pageX,o.pageY)},Pm_:function(q,p,o){this.L_(p,o);this.D_.addClass("drag")},Qm_:function(q,p,o){this.D_.removeClass("drag")},Rm_:function(q,p,o){this.L_(p,o)},L_:function(p,o){var q=this.f_.offset();var r=o-q.top;this.x_=Math.max(0,Math.min(360,360-r/this.f_.height()*360));this.ib_();if(this.z_){this.z_(this.x_)}}});function n(q,p,o){this.f_=q;this.w_=p?p.fb_():l.Ra_(255,0,0);this.y_();this.N_=new g(this.f_.find(".Clh"),this.w_,$.proxy(this.O_,this));this.P_=new f(this.f_.find(".Cqh"),this.w_.h,$.proxy(this.Q_,this));this.z_=o}$.extend(n.prototype,{y_:function(){this.f_.html('<div class="Ckh"><div class="Cil"><div class="Clh"></div></div></div><div class="Cph"><div class="Cjl"><div class="Cqh"></div></div></div>')},Q_:function(o){this.w_.Ua_(o,this.w_.s,this.w_.v);this.N_.kb_(this.w_);if(this.z_){this.z_(this.w_)}},O_:function(o){this.w_=o.fb_();this.P_.mb_(o.h);if(this.z_){this.z_(this.w_)}},ib_:function(){this.N_.ib_();this.P_.ib_()},kb_:function(o){this.w_=o.fb_();this.N_.kb_(o);this.P_.mb_(o.h)},jb_:function(){return this.w_}});var c;if(!k){c=(function(){var p=[{pb_:"basic",qb_:[],x:20,y:6},{pb_:"more",qb_:[],x:31,y:10},{pb_:"full",qb_:[],x:61,y:20}];function o(){var v=[92,82,70,50,38,23];for(var u=0;u<6;u++){p[0].qb_.push(b(j({h:0,s:0,l:100*Math.sin((5-u)/5*Math.PI/2)})));for(var s=0;s<p[0].x-1;s++){var w=s/p[0].x*360;p[0].qb_.push(b(j({h:w,s:100,l:v[u]})))}}var v=[96,90,80,70,50,45,35,27,20,12];var t=[100,100,100,100,100,100,100,100,100,100];for(var u=0;u<10;u++){p[1].qb_.push(b(j({h:0,s:0,l:100*Math.sin((9-u)/9*Math.PI/2)})));for(var w=0;w<360;w+=12){p[1].qb_.push(b(j({h:w,s:t[u],l:v[u]})))}}for(var u=0;u<20;u++){p[2].qb_.push(b(j({h:0,s:0,l:100*Math.sin((19-u)/19*Math.PI/2)})));for(var w=0;w<360;w+=6){p[2].qb_.push(b(j({h:w,s:100,l:97.5-u*5})))}}}var q=!!($('<div style="background-image:linear-gradient(#000,#fff)"></div>').css("background-image")||"").match(/linear-gradient/);o();var r=function(u,t,s){this.f_=$(u).data("a_",this);this.R_=s||{};this.S_=t;if(this.S_){this.T_=this.f_.find("input[name="+this.S_+"]:first").hide()}this.U_=this.R_.value||(this.T_?this.T_.val():"")||"";this.V_=true;this.W_=0;this.y_();this.X_();this.Y_=0;this.Z_=false;this.aa_=this.f_.find(".Cjh");this.Sm_=this.f_.find(".Ckl");this.ca_(this.Y_,true);$($.proxy(function(){this.ba_();var v=this.T_.val()||"";if(this.T_&&v!=this.U_){this.da_(v)}},this))};r.prototype={y_:function(){var s='<div class="Cwg"><div class="Czg"></div><div class="Cjh"></div><div class="Cch"><div><span class="Cdh Csh"><span class="Ceh"></span>色を増やす</span></div><div><span class="Cdh Cth"><span class="Cfh"></span>色を減らす</span></div><div><span class="Cdh Cuh">カラーピッカー</span></div><div><span class="Cdh Cih">色コードで指定</span><span class="Chh"><input type="text" class="Cgh" style="visibility:hidden" spellcheck="false"></span></div></div><input type="hidden" class="Ckl"></div>';this.f_.append(s);if(this.R_.expanded==false){this.ea_=this.fa_(".Cwg");this.f_.prev().append('<span class="Cvh Cwh" style="background-color:'+this.U_+'"></span><span class="Cyg">色を選ぶ</span>')}},q_:function(){return this.f_},rb_:function(){return this.ga_||this.U_},sb_:function(s){this.da_(s)},tb_:function(){},ub_:function(s,t){this.R_[s]=t},vb_:function(s){return this.R_[s]},fa_:function(s){return this.f_.find(s)},na_:function(s,t,u){$(s).on(t,$.proxy(u,this))},ua_:function(t,s,u,v){$(t).on(u,s,$.proxy(v,this))},X_:function(){this.ea_=this.fa_(".Cwg").data("a_",this);this.ha_=this.fa_(".Cdh.Csh");this.ia_=this.fa_(".Cdh.Cth");this.ja_=this.fa_(".Cdh.Cih");this.ka_=this.fa_(".Cgh");this.la_=this.fa_(".Cdh.Cuh");this.ma_=this.fa_(".Czg");this.na_(this.ha_,"click",this.oa_);this.na_(this.ia_,"click",this.pa_);this.na_(this.ja_,"click",this.qa_);this.na_(this.ka_,"change input",this.ra_);this.na_(this.la_,"click",this.sa_);this.na_(this.f_,"mouseleave",this.ta_);this.ua_(this.ma_,".Cah > span","click",this.va_);this.ua_(this.ma_,".Cah > span","mousedown",this.wa_);this.ua_(this.ma_,".Cah > span","mouseenter mouseleave",this.xa_);this.na_(this.ma_,"mouseleave",$.proxy(function(){this.V_=true},this));if(this.T_){this.na_(this.T_,"change",$.proxy(function(s){this.da_(s.currentTarget.value)},this))}if(!q){this.la_.hide()}},La_:function(){var w="";var u=this.ya_();if(u.pb_=="colorpicker"){this.za_();return}var v=0;var t;for(var z=0;z<u.y;z++){w+='<span class="Cah">';for(var s=0;s<u.x;s++,v++){var t="Cbh";if(s==0&&z==0){t+=" white"}if(d(u.qb_[v])){t+=" dark"}if(u.qb_[v]==this.U_){t+=" selected"}w+='<span class="'+t+'" data-color="'+u.qb_[v]+'"><span style="background-color:'+u.qb_[v]+'"></span></span>'}w+="</span>"}this.aa_.hide();this.ma_.html(w).show()},za_:function(){this.ma_.hide().html("");this.aa_.show();if(!this.Aa_){this.Aa_=new n(this.aa_,l.Va_(this.U_),$.proxy(this.Ba_,this))}},Ba_:function(s){this.da_(s.toString(),this.Aa_);this.Ca_()},oa_:function(s){if($(s.currentTarget).hasClass("Cxg")){return}this.ca_(this.Y_+1);this.Da_();s.preventDefault()},pa_:function(s){if($(s.currentTarget).hasClass("Cxg")){return}this.ca_(this.Y_-1);this.Da_();s.preventDefault()},va_:function(s){if(this.ya_().pb_!="full"){this.Ea_(s.currentTarget)}s.preventDefault()},wa_:function(s){if(!this.Fa_&&this.ya_().pb_=="full"){this.Fa_=true;this.Ga_=s.currentTarget;this.Ha_=this.U_;this.Ia_=false;$(document).on("mouseup",$.proxy(this.Ja_,this));if($(s.currentTarget).attr("data-color")!=this.U_){this.Ea_(s.currentTarget)}s.preventDefault()}},Ea_:function(t){this.ma_.find(".selected").removeClass("selected");var s=$(t).attr("data-color");if(this.U_==s&&this.W_<=(new Date).getTime()-500){s="";$(t).removeClass("selected hover")}else{$(t).addClass("selected")}if(this.U_!=s){this.W_=(new Date).getTime()}this.da_(s);this.Ca_();this.V_=false},Ja_:function(){if(this.Fa_){this.Fa_=false;if(!this.Ia_&&this.U_&&this.Ha_==this.U_){this.Ea_(this.Ga_)}this.Ga_=null;$(document).off("mouseup",$.proxy(this.Ja_,this))}},xa_:function(s){if(s.type=="mouseenter"){$(s.currentTarget).addClass("hover");if(this.Fa_){this.ma_.find(".selected").removeClass("selected");this.da_($(s.currentTarget).addClass("selected").attr("data-color"));this.Ca_()}}else{$(s.currentTarget).removeClass("hover")}},Ka_:function(t,s){if(s){t.addClass("Cxg")}else{t.removeClass("Cxg")}},ca_:function(t,s){if(this.Y_>=0&&!s){this.ma_.removeClass(this.ya_().pb_)}this.Y_=Math.max(0,Math.min(p.length-1,t));this.Ka_(this.ha_,t>=p.length-1);this.Ka_(this.ia_,t<=0);this.ma_.addClass(this.ya_().pb_);this.La_()},qa_:function(s){if(this.ka_.css("visibility")!="visible"){this.Ma_()}else{this.Na_()}s.preventDefault()},sa_:function(s){this.Oa_(!this.Z_);this.Da_()},ta_:function(){},Oa_:function(s){this.Z_=s;if(this.Z_){this.ha_.addClass("Cxg");this.ia_.addClass("Cxg");this.la_.text("パレットから選ぶ");this.za_()}else{this.ha_.removeClass("Cxg");this.ia_.removeClass("Cxg");this.la_.text("カラーピッカー");this.ca_(this.Y_)}},Ma_:function(){this.ka_.css({visibility:"visible",opacity:0}).animate({opacity:1},100);this.ka_.focus()},Na_:function(){this.ka_.stop().animate({opacity:0},{duration:100,complete:$.proxy(function(){this.ka_.css({visibility:"hidden"})},this)})},ra_:function(t){var s=this.ka_.val();if(s.match(/^#([0-f]{6}|[0-f]{3})$/)||s==""||s.charAt(0)!="#"){this.da_(s);this.ma_.find(".selected").removeClass("selected");this.Ca_()}},Ca_:function(){if(this.R_.xb_){this.R_.xb_(this.U_,this)}this.f_.trigger("change")},ya_:function(){return p[this.Y_]},da_:function(s,t){this.U_=s;if(this.T_&&t!==this.T_){this.T_.val(s)}if(t!==this.ma_){this.ma_.find(".selected").removeClass("selected");if(s&&s.match(/^#[0-9a-fA-F]{6}/)){this.ma_.find('.Cbh[data-color="'+s.toLowerCase()+'"]').addClass("selected")}}if(this.Aa_&&t!==this.Aa_){this.Aa_.kb_(l.Va_(this.U_))}if(t!==this.ka_){this.ka_.val(s)}},ba_:function(){var s=(this.Sm_.val()||"").split(",");var u=this.Y_;var t=this.Z_;if(s[0]){u=+s[0]||0}if(s[1]){t=!!(+s[1]||false)}if(this.Z_!=t){this.Oa_(t);this.Y_=u}else{if(this.Y_!=u){this.ca_(u)}}},Da_:function(){this.Sm_.val(this.Y_+","+(this.Z_?1:0))}};return r})()}if(k){c=(function(){var p=[{pb_:"basic",qb_:[],x:50,y:5,Ab_:1700},{pb_:"more",qb_:[],x:74,y:7,Ab_:1800},{pb_:"full",qb_:[],x:92,y:10,Ab_:1510}];function o(){var s=[92,75,50,40,20];var v=["#ffffff","#dddddd","#bbbbbb","#808080","#333333"];var u=["#eeeeee","#cccccc","#aaaaaa","#666666","#000000"];for(var r=0;r<5;r++){p[0].qb_.push(v[r]);p[0].qb_.push(u[r]);for(var t=0;t<360;t+=7.5){p[0].qb_.push(b(j({h:t,s:100,l:s[r]})))}}var s=[92,75,62,50,40,30,20];var v=["#ffffff","#dddddd","#bbbbbb","#999999","#707070","#505050","#202020"];var u=["#eeeeee","#cccccc","#aaaaaa","#808080","#606060","#404040","#000000"];for(var r=0;r<7;r++){p[1].qb_.push(v[r]);p[1].qb_.push(u[r]);for(var t=0;t<360;t+=5){p[1].qb_.push(b(j({h:t,s:100,l:s[r]})))}}var s=[92,85,75,62,50,45,40,30,20,10];var v=["#ffffff","#f0f0f0","#dddddd","#bbbbbb","#999999","#888888","#707070","#505050","#303030","#101010"];var u=["#f8f8f8","#eeeeee","#cccccc","#aaaaaa","#909090","#808080","#606060","#404040","#202020","#000000"];for(var r=0;r<10;r++){p[2].qb_.push(v[r]);p[2].qb_.push(u[r]);for(var t=0;t<360;t+=4){p[2].qb_.push(b(j({h:t,s:100,l:s[r]})))}}}o();var q=function(t,s,r){this.f_=$(t).data("a_",this);this.R_=r||{};this.S_=s;if(this.S_){this.T_=this.f_.find("input[name="+this.S_+"]:first").hide()}this.U_=this.R_.value||(this.T_?this.T_.val():"");this.y_();this.X_();this.Y_=0;this.Z_=false;this.aa_=this.f_.find(".Cjh");this.Sm_=this.f_.find(".Ckl");this.ca_(this.Y_,true);this.ia_.hide();this.yb_=new IScroll(this.ma_[0],{scrollX:true,scrollY:false,deceleration:0.0025,useTransform:true,eventPassthrough:"vertical"});$($.proxy(function(){this.ba_();var u=this.T_.val();if(this.T_&&u!=this.U_){this.da_(u)}},this))};q.prototype={y_:function(){var r='<div class="Cwg">	<div class="Czg"><div></div></div>	<div class="Cjh"></div>	<div class="Cch">		<span class="Cdh Cth"><span class="Cfh"></span>減らす</span>		<span class="Cdh Csh"><span class="Ceh"></span>増やす</span>		<span class="Cdh Cih">色コードで指定</span><input type="text" class="Cgh" style="visibility:hidden; width:1px; position:absolute" spellcheck="false">		<span class="Cdh Cuh"><img src="/include/colorpicker-button.png" alt="□"></span>	</div>   <input type="hidden" class="Ckl"></div>';if(this.S_&&!this.T_.length){r+='<input type="hidden" name="'+this.S_+'">'}this.f_.append(r)},q_:function(){return this.f_},tb_:function(){if(this.yb_){this.yb_.refresh()}},ub_:function(r,s){this.R_[r]=s},vb_:function(r){return this.R_[r]},rb_:function(){return this.U_},sb_:function(r){this.da_(r)},fa_:function(r){return this.f_.find(r)},na_:function(r,s,t){$(r).on(s,$.proxy(t,this))},ua_:function(s,r,t,u){$(s).on(t,r,$.proxy(u,this))},X_:function(){this.ea_=this.fa_(".Cwg").data("a_",this);this.ha_=this.fa_(".Cdh.Csh");this.ia_=this.fa_(".Cdh.Cth");this.ja_=this.fa_(".Cdh.Cih");this.la_=this.fa_(".Cdh.Cuh");this.ka_=this.fa_(".Cgh");this.ma_=this.fa_(".Czg");if(this.S_){this.T_=this.fa_("input[name="+this.S_+"]")}this.na_(this.ha_,"click",this.oa_);this.na_(this.ia_,"click",this.pa_);this.na_(this.ja_,"click",this.qa_);this.na_(this.la_,"click",this.sa_);this.na_(this.ka_,"change input",this.ra_);m_.o_(this.ma_,".Cbh",$.proxy(this.va_,this),{preventDefault:!m_.n_,stopPropagation:false})},La_:function(){var v="";var t=this.ya_();var u=0;for(var w=0;w<t.y;w++){v+='<span class="Cah">';for(var r=0;r<t.x;r++,u++){var s="";if(r==0&&w==0){s+=" white"}if(d(t.qb_[u])){s+=" dark"}if(t.qb_[u]==this.U_){s+=" selected"}v+='<span class="Cbh'+s+'" style="background-color:'+t.qb_[u]+'" data-color="'+t.qb_[u]+'"></span>'}v+="</span>"}this.ma_.show().children().width(t.Ab_).html(v);this.aa_.hide()},za_:function(){this.ma_.hide().children().html("");this.aa_.show();if(!this.Aa_){this.Aa_=new n(this.aa_,l.Va_(this.U_),$.proxy(this.Ba_,this))}},Ba_:function(r){this.da_(r.toString(),this.Aa_);this.Ca_()},oa_:function(){this.ca_(this.Y_+1);this.Da_()},pa_:function(){this.ca_(this.Y_-1);this.Da_()},sa_:function(r){this.Oa_(!this.Z_);this.Da_()},Oa_:function(r){this.Z_=r;if(this.Z_){this.ha_.hide();this.ia_.hide();this.la_.text("パレットから選ぶ");this.za_()}else{this.ha_.show();this.ia_.show();this.la_.html('<img src="/include/colorpicker-button.png">');this.ca_(this.Y_)}this.ja_.show();this.ka_.css("visibility","hidden").css("position","absolute").css("width","1px")},va_:function(s){this.ma_.find(".selected").removeClass("selected");var r=$(s.currentTarget).attr("data-color");if(r&&r!=this.U_){$(s.currentTarget).addClass("selected")}else{$(s.currentTarget).removeClass("selected hover");r=""}this.da_(r,this.ma_);this.Da_();this.Ca_();s.preventDefault()},Ka_:function(s,r){if(r){s.addClass("Cxg")}else{s.removeClass("Cxg")}},ca_:function(s,r){if(this.Y_>=0&&!r){this.ma_.removeClass(this.ya_().pb_)}this.Y_=Math.max(0,Math.min(p.length-1,s));this.ma_.addClass(this.ya_().pb_);this.Ka_(this.ha_,s>=p.length-1);this.ia_[s>0?"show":"hide"]();this.La_();if(this.yb_){this.yb_.refresh()}setTimeout($.proxy(function(){if(this.yb_){this.yb_.refresh()}},this),17)},qa_:function(r){this.ja_.hide();this.ka_.css("visibility","visible").css("width","").css("position","static").focus()},ra_:function(s){var r=this.ka_.val();if(r.match(/^#([0-f]{6}|[0-f]{3})$/)||r==""||r.charAt(0)!="#"){this.da_(r,this.ka_);this.Ca_()}},Ca_:function(){if(this.R_.xb_){this.R_.xb_(this.U_,this)}this.f_.trigger("change")},ya_:function(){return p[this.Y_]},da_:function(r,s){if(!r){r=""}if(this.T_&&s!==this.T_){this.T_.val(r)}this.U_=r;if(s!==this.ka_){this.ka_.val(r)}if(s!==this.ma_){this.ma_.find(".selected").removeClass("selected");if(r&&r.match(/^#[0-9a-fA-F]{6}/)){this.zb_(r)}}if(this.Aa_&&s!==this.Aa_){this.Aa_.kb_(l.Va_(this.U_))}},zb_:function(r){this.ma_.find('.Cbh[data-color="'+r.toLowerCase()+'"]').addClass("selected")},ba_:function(){var r=(this.Sm_.val()||"").split(",");var t=this.Y_;var s=this.Z_;var u=this.yb_.x;if(r[0]){t=+r[0]||0}if(r[1]){s=!!(+r[1]||false)}if(r[2]){u=+r[2]||0}if(this.Z_!=s){this.Oa_(s);this.Y_=t}else{if(this.Y_!=t){this.ca_(t)}if(u!=this.yb_.x){this.yb_.scrollTo(u,0)}}},Da_:function(){this.Sm_.val(this.Y_+","+(this.Z_?1:0)+","+this.yb_.x)}};return q})()}c.b_=function(q,p,o){return new c(q,p,o)};return c})();(function(){var c=navigator.userAgent.match(/iPhone/);var e=navigator.userAgent.match(/iPad/);var h=navigator.userAgent.match(/iPhone|Android|iPad/);var a=38;var d=40;function f(k){var j=100;this.f_=$(k).data("zj_",this);this.fj_=this.f_.find("input");this.y_();this.R_={Vm_:this.f_.attr("data-step")?+this.f_.attr("data-step"):1,Wm_:this.f_.attr("data-repeatstep")?+this.f_.attr("data-repeatstep"):null,Xm_:this.f_.attr("data-max")?+this.f_.attr("data-max"):null,nm_:this.f_.attr("data-min")?+this.f_.attr("data-min"):null};this.jj_=null;this.kj_=0;this.lj_=null;this.mj_=this.f_.attr("data-speed")?+this.f_.attr("data-speed"):j;this.f_.find(".Chc").on("ontouchstart" in document?"touchstart":"mousedown",$.proxy(this.nj_,this));this.f_.on("mousewheel DOMMouseScroll",$.proxy(this.oj_,this));this.f_.on("keydown",$.proxy(this.pj_,this));if("ontouchstart" in document){this.f_.find(".Chc").css("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)").on("click",false)}}$.extend(f.prototype,{y_:function(){this.f_.append('<span class="Chc Cic"></span>');this.f_.append('<span class="Chc Cjc"></span>')},qj_:function(j,l){var k=(+this.fj_.val()||0)+j;if(this.R_.Xm_!==null&&k>this.R_.Xm_){k=this.R_.Xm_}if(this.R_.nm_!==null&&k<this.R_.nm_){k=this.R_.nm_}if(l){k=Math.floor(k/l)*l}this.fj_.val(k).trigger("input").trigger("increment")},rj_:function(){this.qj_(this.kj_,this.kj_);this.lj_=setTimeout($.proxy(this.rj_,this),this.mj_)},uj_:function(k,j){this.sj_();this.kj_=k;this.lj_=setTimeout($.proxy(this.rj_,this),j||250)},sj_:function(){if(this.lj_){clearTimeout(this.lj_);this.lj_=null}},nj_:function(k){this.jj_=$(k.currentTarget);var j=this.jj_.hasClass("Cic")?1:-1;if("ontouchstart" in document){this.jj_.on("touchend touchcancel",$.proxy(this.tj_,this))}else{$(document).on("mouseup",$.proxy(this.tj_,this));this.jj_.on("mouseup",$.proxy(this.tj_,this))}this.jj_.addClass("touch");this.uj_((this.R_.Wm_||this.R_.Vm_)*j);this.qj_(this.R_.Vm_*j);if(!("ontouchstart" in document)){this.fj_.focus()}k.preventDefault()},tj_:function(j){if("ontouchstart" in document){this.jj_.off("touchend touchcancel",$.proxy(this.tj_,this))}else{$(document).off("mouseup",$.proxy(this.tj_,this));this.jj_.off("mouseup",$.proxy(this.tj_,this))}this.jj_.removeClass("touch");this.sj_();this.jj_=null;j.preventDefault()},oj_:function(j){if(this.fj_.is(":focus")){this.qj_(this.R_.Vm_*(j.originalEvent.detail<0?1:-1));j.preventDefault()}},pj_:function(j){if(j.keyCode==a){this.qj_(this.R_.Vm_);j.preventDefault()}else{if(j.keyCode==d){this.qj_(-this.R_.Vm_);j.preventDefault()}}},ub_:function(j,k){this.R_[j]=k}});window.zj_=f;function b(k,j){if(!j){j={}}this.f_=$(k);this.Tb_=j.Bj_?$(j.Cj_):$('<div class="Coc"></div>').insertAfter(this.f_);this.Tb_.css({opacity:0,"tap-highlight-color":"rgba(0,0,0,0)"}).hide().on("mousedown",$.proxy(this.t_,this));this.vj_="ontouchstart" in this.f_[0];this.R_=j;this.Rb_=navigator.userAgent.match(/iPhone|Android|iPad/);this.hn_=navigator.userAgent.match(/Android/);this.i_=false;if(!j.Dj_){j.Dj_=".Cmc"}if(this.vj_){this.f_.on("touchstart",j.Dj_,function(l){$(l.currentTarget).parent().find(".touch").removeClass("touch");$(l.currentTarget).addClass("touch")});this.f_.on("touchmove",j.Dj_,function(l){$(l.currentTarget).parent().find(".touch").removeClass("touch")})}this.f_.on("click",j.Dj_,$.proxy(this.Wc_,this));if(this.Rb_){this.f_.on("touchmove",function(l){l.preventDefault()})}this.f_.css("tap-highlight-color","rgba(0, 0, 0, 0)");this.Tb_.on("touchmove",false)}$.extend(b.prototype,{q_:function(){return this.f_},r_:function(l,k,j){if(this.i_){return}if(!j){j={}}this.Tm_=j;this.Tm_.Ym_=l;this.Tm_.Zm_=k;$(document.body).css("overflow","hidden");this.f_.css({left:l,top:k}).show();if(this.Rb_){this.f_.find(".touch").removeClass("touch")}if(this.Rb_){if(this.f_.height()>=this.Zf_()){this.f_.height(this.Zf_())}}this.Um_();this.f_.hide().fadeIn(200);this.Tb_.show();if(this.Rb_){if(!this.yb_){this.yb_=new IScroll(this.f_[0],{preventDefault:!this.hn_,click:!this.hn_})}else{this.yb_.refresh();this.yb_.scrollTo(0,0)}}else{this.f_.scrollTop(0)}$(window).on("resize",$.proxy(this.j_,this));this.i_=true},t_:function(){if(this.i_){this.f_.hide();this.Tb_.hide();$(document.body).css("overflow","");$(window).off("resize",$.proxy(this.j_,this));this.i_=false}},Wc_:function(k){var j=$(k.currentTarget);this.t_();if(this.R_.xb_){this.R_.xb_(j)}},Um_:function(){this.f_.css("height","");var m=this.f_.offset();var j=this.f_.outerHeight();if(this.Tm_.kn_){var l="Ej_" in this.Tm_?this.Tm_.Ej_:this.Tm_.Zm_;m.top=Math.max(5,l-j);this.f_.css({top:m.top})}if(m.top-$(window).scrollTop()+j>this.Zf_()){var k=this.Zf_()-(m.top-$(window).scrollTop())-5;if(k<320||this.Tm_.kn_){var l="Ej_" in this.Tm_?this.Tm_.Ej_:this.Tm_.Zm_;this.f_.css({top:Math.max(5,l-j)});if(j>this.Zf_()-10){this.f_.outerHeight(Math.max(1,this.Zf_()-10))}}else{this.f_.outerHeight(k)}}},j_:function(j){this.Um_();if(this.yb_){this.yb_.refresh()}},Zf_:function(){return(c?window.innerHeight:0)||document.documentElement.clientHeight||window.innerHeight}});function g(k,m,j){if(!j){j={}}var l=$.extend({},j,{xb_:$.proxy(function(n){this.da_(n);this.T_.trigger("change");if(this.R_.xb_){this.R_.xb_(n.attr("data-value"),n)}},this)});this.f_=$(k).data("Ld_",this);this.vj_="ontouchstart" in this.f_[0];this.R_=j;this.T_=this.f_.find("input").hide();this.xj_=$('<div class="Cwb"><div class="Cpc"></div></div>').appendTo(this.f_);this.U_=this.T_.val()||"";this.yj_=new b(m,l);this.xj_.on(this.vj_?"click":"mousedown",$.proxy(function(){this.Fj_()},this));if(this.U_){this.da_(this.Gj_(this.U_))}$($.proxy(function(){if(this.U_!=this.T_.val()){this.sb_(this.T_.val())}},this))}$.extend(g.prototype,{Fj_:function(){var n=this.f_.offset();var m=n?n.left-$(window).scrollLeft():0;var l=n?n.top+this.f_.outerHeight()-$(window).scrollTop():0;var k=n?n.top-$(window).scrollTop():0;var j={Ej_:k};if(this.R_.kn_){j.kn_=true}this.yj_.q_().css("min-width",this.xj_.outerWidth());this.yj_.r_(m,l,j)},sb_:function(j){this.da_(this.Gj_(j))},rb_:function(){return this.U_},ub_:function(j,k){this.R_[j]=k},vb_:function(j){return this.R_[j]},da_:function(j){this.yj_.q_().find(".Cnc").removeClass("Cnc");if(j){if(j.attr("data-label")){this.xj_.children(".Cpc").html(j.attr("data-label"))}else{this.xj_.children(".Cpc").html(j.html())}j.addClass("Cnc");this.U_=j.attr("data-value")}else{this.U_="";this.xj_.children(".Cpc").html("")}this.T_.val(this.U_)},Hj_:function(){var j=this.Gj_(this.U_);return j.length?j.parent().index(j):-1},Ij_:function(j){var k=this.yj_.q_().find(".Cmc").get(j);this.da_(k?$(k):null)},Gj_:function(j){return this.yj_.q_().find('.Cmc[data-value="'+j.replace(/"/g,'\\"')+'"]')}});function i(){var j={};var k=$.extend({},j,{Dj_:".Cdf",xb_:$.proxy(function(l){this.Kl_.val(l.text()).attr("data-value",l.attr("data-value")).trigger("input",[true]).trigger("change",[true])},this)});this.Kl_=$("#Cag");this.Kl_.on("input change",function(m,l){if(!l){$(m.currentTarget).attr("data-value",$(m.currentTarget).val())}});this.yj_=new b("#Cdg",k)}$.extend(i.prototype,{r_:function(j){var n=this.Kl_.offset();var m=n?n.left-$(window).scrollLeft():0;var l=n?n.top+this.Kl_.outerHeight()-$(window).scrollTop():0;var k=n?n.top-$(window).scrollTop():0;if(!j){j={}}$.extend(j,{Ej_:k});this.yj_.q_().css("min-width",this.Kl_.outerWidth());this.yj_.r_(m,l,j)}});window.cf_=$.extend(window.cf_||{},{zj_:f,Aj_:b,Ld_:g,Ll_:i})})();